–ó–≤—ñ—Ç –¥–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏
–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ —ñ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
–í–∏–∫–æ–Ω–∞–≤: –ì–∏—Ä–∏—á –ê–Ω–¥—Ä—ñ–π –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á, –≥—Ä. –ö–Ü-23-1

–ó–∞–≤–¥–∞–Ω–Ω—è
–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é –∑ 10 000 000 –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª —É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ –≤—ñ–¥ 1 –¥–æ 100.

–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ç–∞–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Stream API (–æ–∫—Ä–µ–º–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏):

–û–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—É–º–∏ –≤—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.

–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–æ–≥–æ.

–û–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è.

–ü–æ–º–Ω–æ–∂–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç—É –Ω–∞ 2.

–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è: –∑–∞–ª–∏—à–∏—Ç–∏ –ª–∏—à–µ —Ç—ñ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫—ñ –ø–∞—Ä–Ω—ñ —Ç–∞ –∫—Ä–∞—Ç–Ω—ñ 3.

–ü–æ–≤—Ç–æ—Ä–∏—Ç–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Parallel Stream.

–ó–∞–º—ñ—Ä—è—Ç–∏ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ JMH.

–ú–µ—Ç–æ–¥–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ–± JVM –Ω–µ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞–ª–∞ —ó—Ö —è–∫ "–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ".

–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Stream API —Ç–∞ Parallel Stream —É –≤–∏–≥–ª—è–¥—ñ —Ç–∞–±–ª–∏—Ü—ñ.

–ù–∞–¥–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É —á–µ—Ä–µ–∑ GitHub –∞–±–æ –∞—Ä—Ö—ñ–≤.

–û–ø–∏—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
–ü—Ä–æ–≥—Ä–∞–º–∞ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —è–∫ Maven-–ø—Ä–æ—î–∫—Ç –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º JMH-–±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏. –°—Ç–≤–æ—Ä–µ–Ω–æ –æ–∫—Ä–µ–º—ñ –∫–ª–∞—Å–∏ –¥–ª—è –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–∏—Ö, –æ–ø–µ—Ä–∞—Ü—ñ–π –Ω–∞–¥ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ —Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –±–µ–Ω—á–º–∞—Ä–∫—ñ–≤.

–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
–ó–∞–≥–∞–ª—å–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ (—á–∞—Å –æ–¥–Ω—ñ—î—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó, —Å–µ—Ä–µ–¥–Ω—î –ø–æ 20 –∑–∞–ø—É—Å–∫—ñ–≤)
| Stream Type     | –ú–µ—Ç–æ–¥             | –ó–∞–ø—É—Å–∫—ñ–≤ | –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å (ms) |
| --------------- | ----------------- | -------- | ----------------- |
| Stream          | –°—É–º–∞              | 20       | 41.332            |
| Stream          | –°–µ—Ä–µ–¥–Ω—î (–º–µ—Ç–æ–¥ 1) | 20       | 45.751            |
| Stream          | –°–µ—Ä–µ–¥–Ω—î (–º–µ—Ç–æ–¥ 2) | 20       | 53.201            |
| Stream          | –°—Ç–¥. –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è   | 20       | 51.087            |
| Stream          | –ú–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ 2     | 20       | 109.420           |
| Stream          | –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è        | 20       | 42.895            |
| Parallel Stream | –°—É–º–∞              | 20       | 17.964            |
| Parallel Stream | –°–µ—Ä–µ–¥–Ω—î (–º–µ—Ç–æ–¥ 1) | 20       | 18.877            |
| Parallel Stream | –°–µ—Ä–µ–¥–Ω—î (–º–µ—Ç–æ–¥ 2) | 20       | 18.990            |
| Parallel Stream | –°—Ç–¥. –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è   | 20       | 24.385            |
| Parallel Stream | –ú–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ 2     | 20       | 69.145            |
| Parallel Stream | –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è        | 20       | 9.341             |

–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ –∑–∞–¥–∞—á–∞—Ö (–≤ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö)
| –û–ø–µ—Ä–∞—Ü—ñ—è              | Stream  | Parallel Stream |
| --------------------- | ------- | --------------- |
| –°—É–º–∞                  | 41.332  | 17.964          |
| –°–µ—Ä–µ–¥–Ω—î (–º–µ—Ç–æ–¥ 1)     | 45.751  | 18.877          |
| –°–µ—Ä–µ–¥–Ω—î (–º–µ—Ç–æ–¥ 2)     | 53.201  | 18.990          |
| –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è | 51.087  | 24.385          |
| –ú–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ 2         | 109.420 | 69.145          |
| –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è            | 42.895  | 9.341           |

–£—Å–µ—Ä–µ–¥–Ω–µ–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –≥—Ä—É–ø–∞—Ö
| Stream Type     | –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è |
| --------------- | ------------ | --------------------- |
| Stream          | 57.781       | 25.221                |
| Parallel Stream | 26.117       | 20.864                |

–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
–í–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ Z-—Ç–µ—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ—ó –∑–Ω–∞—á—É—â–æ—Å—Ç—ñ:

–ù—É–ª—å–æ–≤–∞ –≥—ñ–ø–æ—Ç–µ–∑–∞: $H_0 : \mu_{parallel} = \mu_{stream}$

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –≥—ñ–ø–æ—Ç–µ–∑–∞: $H_A : \mu_{parallel} < \mu_{stream}$

–û–±—á–∏—Å–ª–µ–Ω–Ω—è:
$$ Z = \frac{\mu_p - \mu_j}{\sqrt{\frac{\sigma_p^2}{n_p} + \frac{\sigma_j^2}{n_j}}} = \frac{27.2335 - 56.2372}{\sqrt{\frac{22.2121^2}{120} + \frac{27.848^2}{120}}} \approx -8.91 $$
–¶–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–∞—î –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –º–∞–ª–∏–π —Ä—ñ–≤–µ–Ω—å p-value, —Ç–æ–º—É –Ω—É–ª—å–æ–≤—É –≥—ñ–ø–æ—Ç–µ–∑—É –≤—ñ–¥—Ö–∏–ª—è—î–º–æ.

üí¨ –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ –∑–Ω–∞—á–∏–º–æ —à–≤–∏–¥—à–∞ –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –∑–∞–¥–∞—á –ø—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ –≤–µ–ª–∏–∫–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π.

–í–∏—Å–Ω–æ–≤–∫–∏
Parallel Stream –ø–æ–∫–∞–∑–∞–≤ –∫—Ä–∞—â—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É –≤—Å—ñ—Ö –∑–∞–≤–¥–∞–Ω–Ω—è—Ö, –æ—Å–æ–±–ª–∏–≤–æ –ø—Ä–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –π –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó.

–ù–∞–π–º–µ–Ω—à–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–≤—Å—è –ø—Ä–∏ –º–Ω–æ–∂–µ–Ω–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (—á–µ—Ä–µ–∑ –≤–∏—Å–æ–∫—É –≤–∞—Ä—Ç—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—ó).

JMH –¥–æ–∑–≤–æ–ª—è—î —Ç–æ—á–Ω–æ –æ—Ü—ñ–Ω–∏—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä—ñ–∑–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—É –≤ Java.
